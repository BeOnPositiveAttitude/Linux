Смотреть в каких группах состоит текущий пользователь: `groups`.

Наиболее простой способ выдачи sudo-прав пользователю - добавить его в группу `sudo`.

Добавить пользователя trinity в группу sudo: `sudo gpasswd -a trinity sudo`.

Для редактирования файла `/etc/sudoers` нужно использовать команду: `sudo visudo`.

Рассмотрим строки из этого файла:

```bash
root   ALL=(ALL:ALL) ALL
%sudo   ALL=(ALL:ALL) ALL
```

- `root / %sudo` - имя пользователя или группы, для которого определяется правило
- первое `ALL` определяет, к каким хостам применяется правило (в данном случае ко всем)
- второе `ALL` означает, что пользователь root может запускать команды от лица любого пользователя (можно указать список пользователей через запятую)
- третье `ALL` означает, что пользователь root может запускать команды от лица любой группы (можно указать список групп через запятую)
- последнее `ALL` означает, что данное правило применяется ко всем командам.

`user/group host=(run_as_user:run_as_group) command_list`

Пример:

```bash
trinity   ALL=(ALL) ALL
%developers   ALL=(ALL) ALL
```

В скобках ключевое слово `ALL` указано только один раз. Это сокращенная запись, которую стоит рассматривать как `ALL:ALL`.

Если мы хотим дать возможность пользователю trinity запускать sudo-команды только от лица пользователей aaron и john:

```bash
trinity   ALL=(aaron,john) ALL
```

Если мы хотим дать возможность пользователю trinity запускать только определенные команды из-под sudo:

```bash
trinity   ALL=(ALL) /bin/ls, /bin/stat
```

Либо более короткая запись:

```bash
trinity   ALL= /bin/ls, /bin/stat
```

Возможность запускать sudo-команды без ввода пароля:

```bash
%sudo   ALL=(ALL) NOPASSWD:ALL
```

Запустить команду от лица пользователя trinity: `sudo -u trinity ls /home/trinity`.

sudo -lU user1   #смотреть какие sudo-команды может запускать юзер1

При попытке переключиться на пользователя с shell равным `/sbin/nologin` командой `su - rds-server` получим сообщение "This account is currently not available."

Нужно делать это командой: `su -s /bin/bash rds-server`.